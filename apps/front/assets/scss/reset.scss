/* ----------------------------------------------------------------------------- GLOBAL */

/**
 * Box sizing rules and margin/padding reset
 */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/**
 * Set core html defaults
 */
html {
  /* Enable percentage-based heights */
  block-size: 100%;
  min-height: 100%;

  /* Prevent font size inflation on mobile */
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: none;
  text-size-adjust: none;

  /* Better tab size */
  tab-size: 2;

  /* Better scrollbar handling */
  scrollbar-gutter: stable;

  /* Base line height */
  line-height: 1.15;

  /* Support for advance CSS features */
  interpolate-size: allow-keywords;
}

/* ----------------------------------------------------------------------------- BODY */

/**
 * Set core body defaults
 */
body {
  min-height: 100vh;
  min-block-size: 100%;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeSpeed;
  font-synthesis: none;
}

/* ----------------------------------------------------------------------------- SECTION */

/**
 * Render the `main` element consistently in IE.
 */
main {
  display: block;
}

/* ----------------------------------------------------------------------------- TYPOGRAPHY */

/**
 * Reset heading styles
 */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: 1em;
  margin: 0;
  font-weight: normal;
  line-height: calc(1em + 0.5rem);
  overflow-wrap: break-word;
  text-wrap: balance;
}

/**
 * Set shorter line heights on headings and interactive elements
 */
button,
input,
label {
  line-height: 1.1;
}

/**
 * Text wrapping improvements
 */
:where(p, h1, h2, h3, h4, h5, h6) {
  overflow-wrap: break-word;
}

/**
 * Resets for text elements
 */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  margin-block-end: 0;
}

/**
 * Reset font weight for bold elements
 */
b,
strong {
  font-weight: normal;
}

/**
 * Links styling
 */
a {
  background-color: transparent;
  color: inherit;
  text-decoration: none;
  text-underline-offset: 0.2ex;
  text-decoration-thickness: max(1px, 0.0625rem);
}

/**
 * A elements that don't have a class get default styles
 */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentcolor;
}

/* ----------------------------------------------------------------------------- LISTS */

/**
 * Remove list styles by default
 */
ul,
ol,
menu {
  list-style: none;
}

/**
 * Role-based list styles
 */
ul[role='list'],
ol[role='list'] {
  list-style: none;
  padding: 0;
}

/**
 * Ensure lists with no class maintain proper styling
 */
:not([class]) {
  ol,
  ul {
    padding-inline-start: 1.5em;
    list-style: revert;
  }

  li {
    margin-block: 0.5em;
  }
}

/**
 * Avoid markers altering line-height in Firefox
 */
::marker {
  line-height: 0;
}

/* ----------------------------------------------------------------------------- HORIZONTAL RULE */

/**
 * Horizontal rule styling
 */
hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
  margin: 0 auto;
  border: none;
  border-block-start: 1px solid;
  color: inherit;
  block-size: 0;
}

/* ----------------------------------------------------------------------------- DETAILS & SUMMARY */

/**
 * Details and summary element styling
 */
details {
  display: block;
}

summary {
  display: block;
  outline: none;
  cursor: pointer;
}

/**
 * Remove arrow indicator
 */
details summary::-webkit-details-marker {
  display: none;
}

/* ----------------------------------------------------------------------------- MEDIA */

/**
 * Media element styling
 */
:where(img, svg, video, canvas, audio, iframe, embed, object) {
  display: block;
}

:where(img, picture, svg, video) {
  max-inline-size: 100%;
  max-width: 100%;
  block-size: auto;
  height: auto;
  border-style: none;
  vertical-align: middle;
}

/**
 * Figure styling
 */
figure {
  margin: 1rem 0;
}

/* ----------------------------------------------------------------------------- FORM ELEMENTS */

/**
 * Form element styling
 */
button,
input,
optgroup,
option,
select,
textarea {
  display: block;
  margin: 0;
  border: 0;
  font-family: inherit;
  font-weight: normal;
  line-height: normal;
  color: inherit;
  background: none;
  text-transform: none;
  appearance: none;
  -webkit-appearance: none;
  outline: none;
  overflow: visible;
  letter-spacing: inherit;
  word-spacing: inherit;
  font-feature-settings: inherit;
  font-variation-settings: inherit;
}

/**
 * Button styling
 */
button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button;
  cursor: pointer;
}

/**
 * Remove inner border and padding in Firefox
 */
button::-moz-focus-inner,
[type='button']::-moz-focus-inner,
[type='reset']::-moz-focus-inner,
[type='submit']::-moz-focus-inner {
  border-style: none;
  padding: 0;
}

/**
 * Restore focus styles in Firefox
 */
button:-moz-focusring,
[type='button']:-moz-focusring,
[type='reset']:-moz-focusring,
[type='submit']:-moz-focusring {
  outline: 1px dotted ButtonText;
}

/**
 * Progress element styling
 */
progress {
  vertical-align: baseline;
}

/**
 * Textarea styling
 */
textarea {
  overflow: auto;
  resize: vertical;
}

/**
 * Make sure textareas without a rows attribute are not tiny
 */
textarea:not([rows]) {
  min-height: 10em;
}

@supports (resize: block) {
  textarea {
    resize: block;
  }
}

/**
 * Checkbox and radio styling
 */
[type='checkbox'],
[type='radio'] {
  box-sizing: border-box;
  padding: 0;
}

/**
 * Number input styling
 */
[type='number']::-webkit-inner-spin-button,
[type='number']::-webkit-outer-spin-button {
  height: auto;
}

/**
 * Search input styling
 */
[type='search'] {
  -webkit-appearance: textfield;
  outline-offset: -2px;
}

[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}

/**
 * File upload button styling
 */
::-webkit-file-upload-button {
  -webkit-appearance: button;
  font: inherit;
}

/* ----------------------------------------------------------------------------- TABLES */

/**
 * Table styling
 */
table {
  border-collapse: collapse;
}

th,
td {
  text-align: start;
  vertical-align: top;
}

/* ----------------------------------------------------------------------------- FOCUS STYLES */

/**
 * Focus styles
 */
:where(:focus-visible) {
  outline: 3px solid CanvasText;
  box-shadow: 0 0 0 5px Canvas;
  outline-offset: 1px;
}

@media (prefers-reduced-motion: no-preference) {
  :where(:focus-visible) {
    transition: outline-offset 145ms cubic-bezier(0.25, 0, 0.4, 1);
  }

  :where(:not(:active):focus-visible) {
    transition-duration: 0.25s;
  }
}

/**
 * Improved scrolling to targeted elements
 */
:where(:focus-visible, :target) {
  scroll-margin-block: 8vh;
}

:target {
  scroll-margin-block: 5ex;
}

/* ----------------------------------------------------------------------------- HIDDEN ELEMENTS */

/**
 * Hidden elements
 */
[hidden],
template {
  display: none;
}

/* ----------------------------------------------------------------------------- DIALOG & POPOVER */

/**
 * Dialog and popover styling
 */
:where(dialog, [popover]) {
  border: none;
  background: none;
  color: inherit;
  inset: unset;
  max-width: unset;
  max-height: unset;
  overflow: unset;
}
